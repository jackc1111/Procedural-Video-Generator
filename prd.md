# Product Requirements Document (PRD): Procedural Video Generator

## 1. Overview
### 1.1 Product Name
Procedural Video Generator (PVG)

### 1.2 Product Vision
Створити потужний, гнучкий інструмент на Python для процедурної генерації відео з складною графікою, включаючи заставки, інфографіку та анімації. Система дозволить користувачам писати прості скрипти для визначення сцен, після чого автоматично генерувати високоякісні відео.

### 1.3 Problem Statement
Створення відео з складною графікою вимагає дорогого ПЗ (Adobe After Effects, Blender) або ручної роботи. Існуючі інструменти не підтримують процедурну генерацію через код, що обмежує автоматизацію та повторюваність.

### 1.4 Solution
Python-бібліотека на основі Manim, що дозволяє користувачам писати scene.py скрипти для визначення візуалів, а система рендерить відео. Підтримує математичні анімації, інфографіку, заставки та процедурні елементи.

## 2. Objectives
- Забезпечити простий API для генерації відео через код.
- Підтримати складні візуали: 2D/3D графіка, анімації, текст, формули.
- Дозволити процедурну генерацію (алгоритмічне створення контенту).
- Інтегрувати з популярними Python-бібліотеками для розширення.
- Забезпечити високу якість експорту (HD, 4K).

## 3. Target Audience
- Розробники Python, що створюють освітні відео.
- Дизайнери та аніматори, які хочуть автоматизувати процес.
- Науковці для візуалізації даних та алгоритмів.
- Контент-креатори для YouTube/TikTok (заставки, інфографіка).

## 4. Features and Requirements
### 4.1 Core Features
- **Script-Based Generation**: Користувач пише scene.py з класом Scene, визначає елементи (фігури, текст, анімації).
- **Procedural Elements**: Підтримка алгоритмів для генерації візуалів (шуми, патерни, динамічні дані).
- **Complex Graphics**: 2D/3D об'єкти, переходи, ефекти, LaTeX для формул.
- **Infographics**: Графіки, діаграми, чарти з Matplotlib інтеграцією.
- **Title Screens**: Анімовані заставки з текстом та зображеннями.
- **Video Composition**: Монтаж кліпів, додавання музики/звуку.
- **Export Options**: MP4 (включаючи студійний формат), GIF, PNG (для кадрів), різні роздільні здатності.

### 4.2 Functional Requirements
- FR1: Система повинна приймати scene.py скрипт і генерувати відео за командою `python generate.py scene.py`.
- FR2: Підтримувати базові елементи: Text, Circle, Rectangle, Line, Arrow.
- FR3: Анімації: FadeIn, Write, Transform, Move.
- FR4: Інтеграція з NumPy для процедурних розрахунків.
- FR5: Інтеграція з Pillow для кастомних зображень.
- FR6: Конфігурація через аргументи CLI (розмір, якість, студійний формат експорту). Підтримка JSON/YAML у планах.
- FR7: Помилки обробки: Валідація скрипта, повідомлення про помилки.

### 4.3 Non-Functional Requirements
- NFR1: Швидкість рендерингу: < 5 хв для 1-хв відео на стандартному ПК.
- NFR2: Сумісність: Python 3.8+, Linux/Windows/Mac.
- NFR3: Якість: HD (1080p) за замовчуванням, підтримка 4K.
- NFR4: Розширюваність: Плагіни для додаткових бібліотек.
- NFR5: Документація: Повний гайд з прикладами.

## 5. User Stories
- **US1**: Як розробник, я хочу написати скрипт з анімацією графіка, щоб автоматично створити відео для презентації.
- **US2**: Як дизайнер, я хочу генерувати заставки з текстом та ефектами, щоб швидко створювати інтро для відео.
- **US3**: Як науковець, я хочу візуалізувати алгоритм сортування, щоб пояснити його в освітньому відео.
- **US4**: Як контент-креатор, я хочу комбінувати кілька сцен у одне відео з музикою.

## 6. Technical Requirements
### 6.1 Tech Stack
- **Core Framework**: Manim Community Edition.
- **Dependencies**:
  - NumPy: Для математичних обчислень.
  - Pillow: Для обробки зображень.
  - Matplotlib: Для графіків (опціонально).
  - FFmpeg: Для експорту відео (вбудований).
- **Language**: Python 3.8+.
- **Platform**: Кросплатформний.

### 6.2 Architecture
- **Modules**:
  - `generator.py`: Основний скрипт для запуску.
  - `scene_loader.py`: Завантаження та валідація scene.py.
  - `renderer.py`: Інтеграція з Manim для рендерингу.
  - `graphics_helper.py`: Допоміжні методи для візуальних ефектів.
- **Workflow**:
  1. Користувач створює scene.py.
  2. Запуск `python generator.py scene.py SceneClass`.
  3. Система імпортує скрипт, створює Scene, рендерить через Manim.

### 6.3 Data Flow
- Input: scene.py скрипт.
- Processing: Парсинг, виконання коду, генерація кадрів.
- Output: Відеофайл + логи.

## 7. Constraints and Assumptions
- **Constraints**: Залежність від Manim (вимагає встановлення FFmpeg). Не підтримує реал-тайм рендеринг.
- **Assumptions**: Користувач знає базовий Python. Система працює на ПК з GPU для швидкості.

## 8. Milestones and Timeline
- **Phase 1 (Week 1-2)**: Налаштування проекту, базова інтеграція Manim.
- **Phase 2 (Week 3-4)**: Реалізація core features, приклади сцен.
- **Phase 3 (Week 5-6)**: Тестування, документація, оптимізація.
- **Phase 4 (Week 7)**: Реліз MVP.

## 9. Success Metrics
- Кількість згенерованих відео без помилок: >90%.
- Час генерації: <2 хв для простих сцен.
- Задоволеність користувачів: Опитування після тесту.
- GitHub зірки/форки як міра популярності.

## 10. Risks and Mitigations
- **Risk**: Складність Manim — Mitigation: Детальна документація та приклади.
- **Risk**: Продуктивність — Mitigation: Оптимізація через GPU.

## 11. Appendices
- Приклади сцен: Див. examples/ директорію.
- API Reference: Деталі класів та методів.